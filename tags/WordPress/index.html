<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Tag: WordPress | 潜行者m</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="潜行者m">
<meta property="og:url" content="http://www.qianxingzhem.com/tags/WordPress/">
<meta property="og:site_name" content="潜行者m">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="潜行者m">
<meta name="twitter:description">

  
    <link rel="alternative" href="/atom.xml" title="潜行者m" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">潜行者m</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">关注前端开发热爱简约设计。</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="submit" value="&#xF002;" class="search-form-submit"><input type="hidden" name="q" value="site:http://www.qianxingzhem.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-wordpress-e5-ad-90-e4-b8-bb-e9-a2-98-e5-8a-9f-e8-83-bd-e4-b8-ba-wordpress-e5-a2-9e-e5-8a-a0-e5-88-86-e7-b1-bb-e6-90-9c-e7-b4-a2-e5-8a-9f-e8-83-bd-e5-b9-b6-e7-be-8e-e5-8c-96" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/post-1843.html" class="article-date">
  <time datetime="2013-03-27T22:15:07.000Z" itemprop="datePublished">Mar 28 2013</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/post-category/网站与后台开发/">网站与后台开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/post-1843.html">WordPress 子主题功能 + 为 WordPress 增加分类搜索功能并美化</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>近期关于 WordPress 方面主要写了两篇文章，分别是 <a href="http://blog.wpjam.com/article/child-themes/" target="_blank" rel="external">使用 WordPress 的子主题（Child Themes）功能快速制作自己的主题</a> 和 <a href="http://blog.wpjam.com/m/search-by-category/" target="_blank" rel="external">为 WordPress 增加按分类搜索功能并自定义外观</a> 。</p>
<p>之后，关于 WordPress 的文章，我直接首发在 <a href="http://blog.wpjam.com" target="_blank" rel="external">我爱水煮鱼 </a>上面，在 潜行者m 博客就不转发了，只对一些比较好点的文章做一个链接。欢迎大家关注 <a href="http://blog.wpjam.com" target="_blank" rel="external">我爱水煮鱼</a>，国内最专业的 WordPress 技术平台。</p>
<h2 id="子主题功能">子主题功能</h2>
<p>如果你想修改一个 WordPress 最好的方法并不是直接上去修改，而是通过 WordPress 的子主题功能进行修改。这样修改之后，不会影响到原来主题文件，原来主题升级覆盖之后，也不会影响你修改的内容。</p>
<p>结合着官方文档，并且动手实践了一下，写出了这篇文章：<a href="http://blog.wpjam.com/article/child-themes/" target="_blank" rel="external">使用 WordPress 的子主题（Child Themes）功能快速制作自己的主题</a>。</p>
<h2 id="增加分类搜索功能并定义外观">增加分类搜索功能并定义外观</h2>
<p>对于一个比较大型类门户的博客来说，按照分类搜索功能是必不可少的，这篇文章就介绍了如何增加这个功能。同时对输出的 select 分类选择下拉列表进行了美化。<br>这篇文章中，提供并用 jQuery 实现了模拟下拉列表的功能，想要围观请看这里：<a href="http://blog.wpjam.com/m/search-by-category/" target="_blank" rel="external">为 WordPress 增加按分类搜索功能并自定义外观</a>。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.qianxingzhem.com/post-1843.html" data-id="ao24sjukrn8t23iy" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/WordPress/">WordPress</a></li></ul>

    </footer>
  </div>
  
</article>





  
    <article id="post-wordpress-e8-bf-81-e7-a7-bb-sae-e5-ae-8c-e5-85-a8-e6-93-8d-e4-bd-9c-e6-94-bb-e7-95-a5" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/post-1387.html" class="article-date">
  <time datetime="2012-10-19T23:24:52.000Z" itemprop="datePublished">Oct 20 2012</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/post-category/网站与后台开发/">网站与后台开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/post-1387.html">WordPress 迁移 SAE 完全操作攻略</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最近终于算是忙完了大部分工作了，同时也有更多的时间来写写文章，或者做点其他的事情了。现在吃喝不愁，没有多少繁忙的事情，可以学学东西，做点东西，写点文章等等。同时，博客要提高文章质量，更新速度大约在两到三天左右。</p>
<h2 id="SAE_是什么">SAE 是什么</h2>
<p>在迁移 SAE 之前，有必要先简单的了解一下 SAE 是什么。SAE 的全称是 Sina App Engine，翻译过来就是 新浪应用平台。这个平台提供了一些方便开发的组件、优质高速的硬件等，方便开发者进行应用的开发。狭义的讲，就是一个网站空间，可以把网站放上去，但是和普通的虚拟主机、VPS等又有很多不同的地方。在后面你会了解到。它的地址：<a href="http://sae.sina.com.cn" target="_blank" rel="external">http://sae.sina.com.cn</a></p>
<h3 id="为什么要迁移_SAE">为什么要迁移 SAE</h3>
<p>之所以迁移到 SAE 上，是因为 SAE 有以下几个优点。</p>
<ol>
<li>硬件质量高，网站访问速度快。</li>
<li>专业，不用怕数据丢失或者服务商跑路。</li>
<li>按照你使用的资源进行收费，收费合理，性价比高。<br>最看重的是 SAE 平台的<strong>稳定、高速和性价比</strong>，与原来的美国空间、香港空间相比，低价高质量。</li>
</ol>
<h3 id="开通_SAE">开通 SAE</h3>
<p>开通 SAE 只需要打开 SAE ，然后点击右上方的注册即可，它使用新浪微博作为账号。其中还要区分几个概念，包括安全邮箱、安全密码等等。此外，SAE 平台使用 SVN 的方式上传文件，它的使用要比传统的 FTP 上传方便简单，但是需要学习和适应，这点官方文档写的非常详细。你需要花费一点时间，查看一下他们的帮助文档，这些很简单，也不是本文要说的重点。帮助文档：<a href="http://sae.sina.com.cn/?m=devcenter" target="_blank" rel="external">http://sae.sina.com.cn/?m=devcenter</a></p>
<h2 id="迁移_WordPress">迁移 WordPress</h2>
<p>本文的重点不是 SAE 的注册和开通，而是在于如何合理正确高效的把 WordPress 博客，从之前的主机中迁移到 SAE 中。</p>
<h3 id="安装_WordPress_应用">安装 WordPress 应用</h3>
<p>SAE 之所以高速、稳定，是因为它限制了部分功能。例如：出于完全考虑，SAE 禁止了 I/O 读写操作，这样，就无法使用传统的函数，进行生成或者读取操作等。</p>
<p>所以，官方原版的 WordPress 是不能直接安装上去的，因为里面的一些功能（例如：在线安装主题）是 SAE 平台所不支持的。但是 WordPress 这么流行的系统，当然有团队修改里面的代码，把不支持的功能，进行改写做成了 WordPress for SAE 版本，同时还上架到 <a href="http://sae.sina.com.cn/?m=appstore" target="_blank" rel="external">应用仓库</a> 中，这样只需要点几下鼠标，就可以在你的应用空间中，安装上 WordPress 。</p>
<p>1，创建一个应用。登陆之后，在 <a href="http://sae.sina.com.cn/?m=myapp" target="_blank" rel="external">我的应用</a> 页面中，找到右上方的 “安装应用” 。会出现如下的配置窗口。SAE 的应用安装，基于安装包（zip格式）安装，可以直接填写网上的安装包，也可以本地上传。</p>
<p><a href="http://qxzm-img.b0.upaiyun.com/blog/2012/10/1387/1.png" target="_blank" rel="external"><img src="http://qxzm-img.b0.upaiyun.com/blog/2012/10/1387/1.png" alt="" title="创建应用"></a></p>
<p>2，在 <a href="http://sae.sina.com.cn/?m=appstore" target="_blank" rel="external">应用仓库</a> 中，找到 <a href="http://sae.sina.com.cn/?m=apps&amp;a=detail&amp;aid=1" target="_blank" rel="external">WordPress for SAE</a> 的安装包地址，可以把地址填写到上面的 安装应用 表单中。其实，也可以点击右上方的 “安装应用”，直接进行安装。</p>
<p><a href="http://qxzm-img.b0.upaiyun.com/blog/2012/10/1387/2.png" target="_blank" rel="external"><img src="http://qxzm-img.b0.upaiyun.com/blog/2012/10/1387/2.png" alt="" title="从应用仓库中安装"></a></p>
<p>3，输入一个 二级域名 和 验证码 之后，点击创建，就会告诉你已经创建成功了。现在你就可以管理这个应用了。根据提示，进行应用的初始化，就是安装 WordPress 时配置安装信息。</p>
<p>配置完成之后，系统会提示你安装完成。WordPress 系统就算安装完成了。你可以进入后台看一下相关配置，这个版本的 WordPress 是比较老的 ，截止到本文写作时，版本为 3.2.1。所以在安装插件的时候，需要注意插件是否支持这个版本。其中内置了几个比较常用的插件以及三个主题。下面就要进行博客数据的迁移。</p>
<h3 id="转移文章等数据">转移文章等数据</h3>
<p>文章等数据的迁移是整个迁移工作中，最简单的一个步骤。很多文章写道需要把数据库里的数据导入等等，其实不用这么麻烦，使用 WordPress 内置的工具（导入、导出）即可完成。</p>
<ol>
<li>首先在原先的博客中，点击 “工具” -》 “导出” ，选择 “全部内容” ，点击导出。会弹出一个 xml 文件的下载。这个文件就记录了你博客上面的文章、评论、页面等等数据。</li>
<li>在 SAE 的博客上面，点击 “工具” -》 “导入” ，选择列表中的 “WordPress”。然后上传这个 xml 文件，将作者名等修改一下即可。注意，不要勾选 “下载远程附件” 这个项目，因为 SAE 不支持 读写操作，所以选择这个会报错。<br>这个时候，文章等数据迁移完毕，打开应用首页，你已经可以看到你的文章数据了。</li>
</ol>
<h3 id="配置后台网站信息与之前网站完全一致">配置后台网站信息与之前网站完全一致</h3>
<p>采用上面这种方法，只能迁移文章、页面、评论等数据，而无法迁移原有 WordPress 的后台设置。所以我们要打开 SAE 上的 WordPress 后台中的 “设置” 标签，把下面的内容依次重新设置一下，把它们设置的和原先博客中设置的一样。</p>
<h3 id="对于图片/网站附件的处理">对于图片/网站附件的处理</h3>
<p>数据迁移通常分为两种：<strong>内容迁移</strong>和<strong>资源迁移</strong>。内容迁移很简单，上面已经完成。令人头痛的是资源迁移，即 图片资源、附件资源等。<a href="http://www.qianxingzhem.com" target="_blank" rel="external">潜行者m</a> 搜寻了很多资料来解决这个资源迁移的问题。</p>
<p><strong>1，直接使用 SVN 的方式，上传到原有博客的 upload 目录中。</strong></p>
<p>这是最简单的一种方式，但是有很多问题。首先，SAE 的应用代码空间，只有100M大小。上面通常存放代码、基础的图片等资源，不适合存储附件等。潜行者m 博客光图片资源以及超过100M大小，肯定无法使用 SVN 的方式上传到 代码空间。但是对于图片附件比较少的博客来说，可以直接使用这种方法。</p>
<p><strong>2，使用 SAE 的 Storage 服务</strong></p>
<p>Storage 服务，是 SAE 为应用提供的专门用于存储文件的空间。容量大，下载速度快。当你使用 WordPress for SAE 写文章上传附件的时候，会自动上传到这个空间中，然后进行调用。这就相当于外链的空间了。</p>
<p>所以我们首先要把 资源文件 上传到这个应用的 Storage 空间中，然后修改文章中对于资源的引用，把外链修改上。上传有两种方法：</p>
<p>第一种手动创建目录，然后依次上传。打开应用页面，在左下方找到 “Storage”，打开之后，点击 “管理” ，然后就可以创建目录、上传文件等操作。然后，将原来文章中的资源外链修改一下，Storage 空间的外链通常为 XXX-wordpress.stor.sinaapp.com 加上目录。其中 XXX 为你的应用名称。</p>
<p>第二种是使用工具上传。如果附件很多，上传的工作量可想而知。所以有人就写出了上传的程序。经过搜索，找到了一个工具 <a href="http://www.shootsoft.net/149" target="_blank" rel="external">SAE Mutiple Uploads 0.2</a> 。具体的介绍和使用说明，打开他们的官方教程好了，上面说的很详细了。但是我在操作的时候，不知道为什么，没有成功。工具显示上传成功，但是我在 Storage 空间中，并没有发现我上传的资源。提供一个思路，你可以尝试一下，说不定是我的人品问题。</p>
<p><strong>补充(2012.10.22)</strong>：<a href="http://sypopo.com/" target="_blank" rel="external">信仰飘扬</a> 提醒，可以使用 Cyberduck 这个软件方便进行 storage 空间的管理。<strong>
</strong></p>
<p><strong>3，使用第三方外链服务(又拍云/华为网盘等)</strong></p>
<p>只有在迁移的时候，才感觉出来外链的重要性，因为无论怎么迁移，外链是不会变的。因此，我考虑将所有资源放在外链上，然后以后就用外链链接资源。据了解，免费的网盘有部分支持图片外链，例如华为等。收费的比较好的有又拍云。最后我选择了又拍云，购买了又拍云的服务。</p>
<p>又拍云具体的操作流程我就不多说了，速度非常快。上传资源之后，在网上偶然发现了 <a href="http://ihacklog.com/post/hacklog-remote-attachment-upaiyun-version.html" target="_blank" rel="external">荒野无灯</a> 写的又拍云上传插件：<a href="http://ihacklog.com/post/hacklog-remote-attachment-upaiyun-version.html" target="_blank" rel="external">Hacklog Remote Attachment Upyun(又拍云版)</a>。果断激动了一下，因为这个插件，可以让你上传文件的时候，自动上传到远程的又拍云服务器上，同时还有一个非常重要的功能，可以修改数据库，将数据库里面的原有的失效资源连接，自动修正成又拍云的外链。</p>
<p>但是安装用了一下，还是出错，问了一下灯哥，原来是这个版本太低了，出现了这个错误。所以这个方法就留给以后的人看了，等 SAE 上的 WordPress for SAE 升级之后，就能用了。</p>
<p>如果想要批量修改原有失效的资源连接，可能只有像荒野无灯写的插件那样，对数据库进行修改。否则只能一篇文章一篇文章的进行修改。如果你有更好的办法，希望能回复交流！</p>
<p><strong>补充（2012.10.21）</strong>：Denis 提供了一个解决这类问题的好方法，即使用插件 <a href="http://fairyfish.net/2010/05/31/search-and-replace/" target="_blank" rel="external">Search &amp; Replace </a> 批量对数据库里面的图片链接进行修改。</p>
<h3 id="在_WordPress_for_SAE_中安装主题和插件">在 WordPress for SAE 中安装主题和插件</h3>
<p>由于 SAE 禁止了读写操作，所以安装主题和插件，无法向以前那样，直接在后台进行上传或者远程安装。必须要通过 SVN 的方式上传。默认的安装了 WordPress for SAE 之后，并没有开启 SVN 服务，因为开启 SVN 服务，需要花费一些资源，所以要消耗一些云豆。我们在后台左侧找到 “代码管理” 然后点击 “创建 SVN 库” 就开启了 SVN 服务，之后根据 SAE 的<a href="http://sae.sina.com.cn/?m=devcenter&amp;catId=212" target="_blank" rel="external">说明文档</a>使用即可。安装主题和插件，只需要把主题和插件复制到相应的目录，然后 SVN 上传一下即可，和使用 FTP 一样。但是要注意，主题和插件中的功能不能有 读写操作 等 SAE 不支持的功能，否则可能出现意外情况。</p>
<p><a href="http://qxzm-img.b0.upaiyun.com/blog/2012/10/1387/3.png" target="_blank" rel="external"><img src="http://qxzm-img.b0.upaiyun.com/blog/2012/10/1387/3.png" alt="" title="SAE 安装 wordpress 插件主题"></a></p>
<h3 id="将域名解析到_SAE">将域名解析到 SAE</h3>
<p>现在文章等内容、图片等资源都已经迁移过来了。现在要检查一下迁移之后的网站和原先的网站还有什么地方不同。所有的地方都必须丝毫不差才可以。特别是 “固定链接” 等等，如果有不同，会导致收录等问题。</p>
<p>当你觉得完全相同，在迁移之后，就要把域名解析到 SAE 中。在管理后台找到左侧的 <strong>“应用管理”</strong> 打开之后，在下面会有独立域名设置。由于 SAE 比较特殊，所以它暂时不支持备案，如果你的域名是备案过的，那么需要填写备案表格，向 SAE 提交申请。如果你的域名没有备案，SAE 支持绑定到国外的合作伙伴那里，然后做一个跳转。比较简单，所以不再多说。</p>
<p>这两种方案区别很大，备案域名直接接入服务器，ping 值只有 50MS 左右，响应速度和 百度 差不多，下载速度也非常快。绑定到国外的未备案域名，通过香港节点访问，ping 值有 160 MS左右，下载速度略慢，相当于高质量的香港空间，但是要消耗两倍的流量，也就是交两倍的钱。</p>
<h3 id="转移之后的SAE优化">转移之后的SAE优化</h3>
<p>鉴于大部分的同学的网站都是没有备案的，但是要花两倍的钱，所以我们就要进行优化。优化的重点就是减少 SAE 流量的损耗。一般通过三个方法进行优化：</p>
<ol>
<li>开启 gzip。开启 SAE 的 gzip 教程，请看这里：<a href="http://www.hiadmin.org/blog-seo/wordpress-sae-gzip" target="_blank" rel="external">开启SAE的Gzip压缩为WordPress提速</a></li>
<li>压缩图片、CSS、JavaScript等文件，尽量使用外链。<br>完成这些步骤之后，可以尽量的避免系统资源的消耗，这样就可以节省云豆。同时，你还可以开发应用，进行开发者认证，这样每月都会送你一些云豆。如果你流量不大的话，这样几乎都成了免费的了。</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.qianxingzhem.com/post-1387.html" data-id="bndotivog1db9byd" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/WordPress/">WordPress</a></li></ul>

    </footer>
  </div>
  
</article>





  
    <article id="post-wordpress-e7-9a-846-e7-a7-8d-e5-9b-ba-e5-ae-9a-e8-bf-9e-e6-8e-a5-e4-bc-98-e7-bc-ba-e7-82-b9-e5-af-b9-e6-af-94" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/post-1240.html" class="article-date">
  <time datetime="2012-09-11T09:17:07.000Z" itemprop="datePublished">Sep 11 2012</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/post-category/网站与后台开发/">网站与后台开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/post-1240.html">WordPress的6种固定连接优缺点对比</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>有人说 WordPress 的 SEO 做的比较好，我想这个和 WordPress 可以方便的自定义文章的固定链接有分不开的联系。在众多的 WordPress 博客中，有很多种的固定连接，本文就是把这些固定链接的形式和效果跟大家分析一下，然后根据你自己的需求，选择适合你博客的固定连接。</p>
<h2 id="默认固定链接样式">默认固定链接样式</h2>
<p>没有在后台的 “设置-》》固定链接” 中设置链接样式的话，就属于默认的固定连接样式，它的形式如下</p>
<pre>http://www.qianxingzhem.com/?p=123</pre>

<h3 id="优点">优点</h3>
<ol>
<li>链接短小</li>
<li>移植性好，当 WordPress 搬家时，新主机万一不支持 Rewrite 模块，你不需要进行301定向</li>
</ol>
<h3 id="缺点">缺点</h3>
<ol>
<li>缺乏语义性，对搜索引擎收录稍稍有影响，但是不大</li>
</ol>
<h2 id="日期、月份和名称链接样式">日期、月份和名称链接样式</h2>
<p>这是官方默认的链接样式，分日期、月份和名称两种，形式如下</p>
<pre>http://www.qianxingzhem.com/2012/09/11/sample-post/</pre>
<pre>http://www.qianxingzhem.com/2012/09/sample-post/</pre>

<h3 id="优点-1">优点</h3>
<ol>
<li>语义性增强，增加了文章发布时间和文章名称</li>
<li>文章发布时间和文章名称在链接中，有利于搜索引擎理解</li>
</ol>
<h3 id="缺点-1">缺点</h3>
<ol>
<li>生成的链接长度太长，不利于发送等</li>
<li>文章标题直接显示在连接中，有的时候并不希望这样</li>
</ol>
<h2 id="名称型样式">名称型样式</h2>
<p>直接加一个文章名称，形式如下</p>
<pre>http://www.qianxingzhem.com/sample-post/</pre>

<h3 id="优点-2">优点</h3>
<ol>
<li>语义性强，文章名称在链接中，便于搜索引擎理解</li>
</ol>
<h3 id="缺点-2">缺点</h3>
<ol>
<li>生成链接长度过长，中文链接会被编码，链接乱且长</li>
</ol>
<h2 id="关键词类型链接样式">关键词类型链接样式</h2>
<p>将文章中的关键词提取出来，然后自定义固定连接，用“-”链接关键词，很多高手博客使用这种链接，样式如下</p>
<pre>http://fairyfish.net/m/limit-login-attempts/</pre>

<h3 id="优点-3">优点</h3>
<ol>
<li>语义性强，便于搜索引擎理解</li>
<li>生成链接长度合适</li>
</ol>
<h3 id="缺点-3">缺点</h3>
<ol>
<li>需要博主有一定的英语水平和耐心</li>
<li>对中文博客的效果不大，几乎没有中国人会搜索一个英文单词来看你的中文文章</li>
</ol>
<h2 id="数字型链接样式">数字型链接样式</h2>
<p>直接把文章的ID写在链接中，样式如下</p>
<pre>http://www.qianxingzhem.com/123</pre>

<h3 id="优点-4">优点</h3>
<ol>
<li>链接极短</li>
</ol>
<h3 id="缺点-4">缺点</h3>
<ol>
<li>没有任何语义性</li>
</ol>
<h2 id="数字型语义增强版链接样式">数字型语义增强版链接样式</h2>
<p>不仅仅是文章 ID 还增加一些英文单词，例如：post、archives等，形式如下</p>
<pre>http://www.qianxingzhem.com/archives/123</pre>
<pre>http://www.qianxingzhem.com/post-1268.html</pre>

<h3 id="优点-5">优点</h3>
<ol>
<li>链接较短</li>
<li>增加了关键词，便于搜索引擎理解这个页面是一篇文章</li>
</ol>
<h3 id="缺点-5">缺点</h3>
<ol>
<li>语义性不是非常明确<br>目前，潜行者m博客用的就是这种 数字型语义增强版 固定链接样式。</li>
</ol>
<h2 id="如何自定义博客固定链接">如何自定义博客固定链接</h2>
<h3 id="了解结构标签">了解结构标签</h3>
<p>WordPress 设置了一系列的固定链接结构标签，来让你定义固定链接，具体标签及功能如下</p>
<ul>
<li>%year% 文章发表的年份，四位数，如 2004</li>
<li>%monthnum% 月份，如 05</li>
<li>%day% 天，如 28</li>
<li>%hour% 小时，如 15</li>
<li>%minute% 分钟，如 43</li>
<li>%second% 秒，如 33</li>
<li>%postname% 文章标题的别名 (编辑文章/页面时的别名栏)</li>
<li>%post_id% 文章的唯一ID，如 423</li>
<li>%category% 分类的别名 (新建/编辑分类时的别名栏)</li>
<li>%tag% 标签的别名(新建/编辑标签时的别名栏)</li>
<li>%author% 作者的别名<br>之后，我们需要打开后台 “固定链接设置” 页面，找到 “自定义链接结构” 根据自己的需求，写上链接结构，加上结构标签。例如潜行者m博客用的链接样式<pre>http://www.qianxingzhem.com/post-1268.html</pre>
在后台自定义链接结构时，需要定义成
<pre>/post-%post_id%.html</pre>

</li>
</ul>
<h2 id="其他注意事项">其他注意事项</h2>
<p>固定链接在 WordPress 博客中非常重要，强烈建议在建博初期就确定下来，而且之后不要再更换。如果你更换了固定链接，之前的固定链接打开之后，就会出现404错误，影响搜索引擎收录。</p>
<p>当然，如果你迫不得已更换博客的固定链接，请安装相应的 301链接重定向 插件，使用插件将之前的固定链接重定向到更新后的固定链接上。这类的插件比较多，这里我推荐几个：Simple 301 Redirects、Redirection等。</p>
<p>关于 WordPress 固定链接更详细的说明，请看官方文档 ：<a href="http://codex.wordpress.org/zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5" target="_blank" rel="external">zh-cn:使用固定链接</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.qianxingzhem.com/post-1240.html" data-id="ikygpse9arzldo9o" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/WordPress/">WordPress</a></li></ul>

    </footer>
  </div>
  
</article>





  
    <article id="post--e8-a7-a3-e5-86-b3wp-e9-a6-96-e9-a1-b5-e6-97-a0-e6-b3-95-e6-98-be-e7-a4-ba-e6-91-98-e8-a6-81-e8-80-8c-e6-98-be-e7-a4-ba-e5-85-a8-e6-96-87-e7-9a-84-e6-96-b9-e6-b3-95" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/post-330.html" class="article-date">
  <time datetime="2012-01-10T01:23:01.000Z" itemprop="datePublished">Jan 10 2012</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/post-category/网站与后台开发/">网站与后台开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/post-330.html">解决wp首页无法显示摘要而显示全文的方法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>不知道什么时候（可能是某次升级），首页就乱套了，原因很简单，以前显示文章摘要的地方，现在把全文都显示出来了，即使是官方默认的模板也不行。</p>
<p>如图：</p>
<p><a href="http://qxzm-img.b0.upaiyun.com/blog/2012/01/1.jpg" target="_blank" rel="external"><img src="http://qxzm-img.b0.upaiyun.com/blog/2012/01/1.jpg" alt="" title="11"></a><br>这样的话，页面就非常乱了。有的文章很短，有的文章很长，而且把文章全文都显示出来，而且还带有图片，使得页面非常不协调。</p>
<p>我查找官方的模板手册，寻找输出文章的函数，一个个尝试，也没有用。后来我不停的换模板，但是除了wpbus的D4模板之外，其他模板都不行，包括官方的。D4模板显示图：</p>
<p><a href="http://qxzm-img.b0.upaiyun.com/blog/2012/01/12.jpg" target="_blank" rel="external"><img src="http://qxzm-img.b0.upaiyun.com/blog/2012/01/12.jpg" alt="" title="12"></a></p>
<p>这样就美观多了，还是wpbus的模板写的质量高啊，代码考虑到方方面面了。但是我不喜欢用他们的模板。太大太过于臃肿，而且为了防止盗取代码，还写的很复杂，很多文件，导致执行效率比较低。特别是网速慢的时候，刚刚打开的时候，页面是乱的，过会才居中正常。于是，就看看他们的代码是怎么写的，把代码引用一下就好了。</p>
<p>打开D4模板，顺着模板文件找，果然，老是用include包含过来包含过去的，扰乱分析。不过我还是很快分析出了用于显示这个的代码。废话不多说，贴出这句代码。</p>
<blockquote>
<p>&lt;?php echo mb_strimwidth(strip_tags(apply_filters(‘the_content’,$post-&gt;post_content)), 0, 230,”…”); ?&gt;<br>可能是我php自学的太烂，没见过这几个函数，于是便在网上搜了一下这几个函数的功能。</p>
</blockquote>
<p>1，<strong>apply_filter()</strong> 这个函数是一个过滤函数，用于过滤数据。一般是对前台的模板函数进行操作的。</p>
<p>2，<strong>strip_tags()</strong> 这个函数用于剥去 HTML、XML 以及 PHP 的标签，经过这个函数的数据，里面的标签就没了。这样呢，就把文章内容整理了，把那些特殊的格式以及图片什么的去除了。这样显示的就是纯文字。</p>
<p>3，<strong>mb_strimwidth()</strong> 这个函数是用来截取置顶长度的字符的。使用方法：<br>mb_strimwidth(string $str,int $start,int $width[,string $trimmarker[,string $encoding]])<br>参数说明：<br>$str //指定字符串<br>$start //指定从何处开始截取<br>$width //截取文字的宽度<br>$trimmarker //超过$width数字后显示的字符串<br>通常用于截取字符整理版面用的。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.qianxingzhem.com/post-330.html" data-id="6vli2lg0aad18uqp" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/WP主题函数/">WP主题函数</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/WordPress/">WordPress</a></li></ul>

    </footer>
  </div>
  
</article>





  
  
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/post-category/CSS/">CSS</a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/post-category/CSS/前端相关/">前端相关</a><span class="category-list-count">4</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/post-category/HTML/">HTML</a><span class="category-list-count">4</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/post-category/HTML/前端相关/">前端相关</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/post-category/JS-JQ/">JS/JQ</a><span class="category-list-count">6</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/post-category/JS-JQ/前端相关/">前端相关</a><span class="category-list-count">6</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/post-category/作品/">作品</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/post-category/作品/网站与后台开发/">网站与后台开发</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/post-category/其他/">其他</a><span class="category-list-count">73</span></li><li class="category-list-item"><a class="category-list-link" href="/post-category/前端相关/">前端相关</a><span class="category-list-count">35</span></li><li class="category-list-item"><a class="category-list-link" href="/post-category/网站与后台开发/">网站与后台开发</a><span class="category-list-count">61</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/BUG/">BUG</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS3/">CSS3</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML5/">HTML5</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JustHost/">JustHost</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/">PHP</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ThinkSAAS/">ThinkSAAS</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ubuntu/">Ubuntu</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WP主题函数/">WP主题函数</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WordPress/">WordPress</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WordPress主题/">WordPress主题</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cPanel-X/">cPanel X</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cookie/">cookie</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/emmet/">emmet</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery/">jQuery</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery插件/">jQuery插件</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sublime-text-2/">sublime text 2</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wp主题制作教程/">wp主题制作教程</a><span class="tag-list-count">17</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端优化/">前端优化</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/博客运营/">博客运营</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/响应式/">响应式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/思考/">思考</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/推广运营/">推广运营</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网络防骗/">网络防骗</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/记录生活/">记录生活</a><span class="tag-list-count">20</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计/">设计</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/资源分享/">资源分享</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/音乐推荐/">音乐推荐</a><span class="tag-list-count">5</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/BUG/" style="font-size: 10.00px;">BUG</a><a href="/tags/CSS/" style="font-size: 18.00px;">CSS</a><a href="/tags/CSS3/" style="font-size: 10.00px;">CSS3</a><a href="/tags/HTML5/" style="font-size: 13.00px;">HTML5</a><a href="/tags/JSON/" style="font-size: 10.00px;">JSON</a><a href="/tags/JavaScript/" style="font-size: 14.00px;">JavaScript</a><a href="/tags/JustHost/" style="font-size: 11.00px;">JustHost</a><a href="/tags/PHP/" style="font-size: 13.00px;">PHP</a><a href="/tags/SEO/" style="font-size: 15.00px;">SEO</a><a href="/tags/ThinkSAAS/" style="font-size: 12.00px;">ThinkSAAS</a><a href="/tags/Ubuntu/" style="font-size: 11.00px;">Ubuntu</a><a href="/tags/WP主题函数/" style="font-size: 14.00px;">WP主题函数</a><a href="/tags/WordPress/" style="font-size: 13.00px;">WordPress</a><a href="/tags/WordPress主题/" style="font-size: 10.00px;">WordPress主题</a><a href="/tags/cPanel-X/" style="font-size: 14.00px;">cPanel X</a><a href="/tags/cookie/" style="font-size: 10.00px;">cookie</a><a href="/tags/emmet/" style="font-size: 11.00px;">emmet</a><a href="/tags/jQuery/" style="font-size: 17.00px;">jQuery</a><a href="/tags/jQuery插件/" style="font-size: 13.00px;">jQuery插件</a><a href="/tags/sublime-text-2/" style="font-size: 14.00px;">sublime text 2</a><a href="/tags/wp主题制作教程/" style="font-size: 19.00px;">wp主题制作教程</a><a href="/tags/前端优化/" style="font-size: 10.00px;">前端优化</a><a href="/tags/博客运营/" style="font-size: 16.00px;">博客运营</a><a href="/tags/响应式/" style="font-size: 10.00px;">响应式</a><a href="/tags/思考/" style="font-size: 18.00px;">思考</a><a href="/tags/推广运营/" style="font-size: 13.00px;">推广运营</a><a href="/tags/网络防骗/" style="font-size: 12.00px;">网络防骗</a><a href="/tags/记录生活/" style="font-size: 20.00px;">记录生活</a><a href="/tags/设计/" style="font-size: 13.00px;">设计</a><a href="/tags/资源分享/" style="font-size: 15.00px;">资源分享</a><a href="/tags/音乐推荐/" style="font-size: 14.00px;">音乐推荐</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07/">July 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">June 2013</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/05/">May 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/04/">April 2013</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">March 2013</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/02/">February 2013</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/01/">January 2013</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/12/">December 2012</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/11/">November 2012</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/10/">October 2012</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/09/">September 2012</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/08/">August 2012</a><span class="archive-list-count">23</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/07/">July 2012</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/05/">May 2012</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/04/">April 2012</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/03/">March 2012</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/02/">February 2012</a><span class="archive-list-count">38</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/01/">January 2012</a><span class="archive-list-count">18</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/12/">December 2011</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/08/">August 2011</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/07/">July 2011</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/06/">June 2011</a><span class="archive-list-count">5</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/post-2003.html">本博将停止更新</a>
          </li>
        
          <li>
            <a href="/post-2001.html">IE10 的一些前端有关的特性</a>
          </li>
        
          <li>
            <a href="/post-1995.html">Emmet 常用的高级功能</a>
          </li>
        
          <li>
            <a href="/post-1993.html">Firefox 下 text-overflow:ellipsis 的省略号会浮动在上面</a>
          </li>
        
          <li>
            <a href="/post-1989.html">Unicode 符号序号以及 HTML 实体字符表格</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2014 潜行者m<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

<script type="text/javascript" src="http://js.tongji.linezing.com/2773162/tongji.js"></script><noscript><a href="http://www.linezing.com"><img src="http://img.tongji.linezing.com/2773162/tongji.gif"/></a></noscript>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">

  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>



<script src="/js/script.js" type="text/javascript"></script>


  </div>
</body>
</html>