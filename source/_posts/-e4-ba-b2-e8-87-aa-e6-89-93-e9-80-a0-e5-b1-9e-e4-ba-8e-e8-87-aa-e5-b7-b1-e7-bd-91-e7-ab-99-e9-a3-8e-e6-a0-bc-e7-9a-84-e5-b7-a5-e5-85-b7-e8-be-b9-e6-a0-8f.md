title: 亲自打造属于自己网站风格的工具边栏
tags:
  - jQuery
id: 1196
categories:
  - 前端相关
date: 2012-08-26 13:30:55

---

首先请允许潜行者 m 介绍一下自创的名词“工具边栏”。现在大家在浏览网站的时候，经常会发现一些浮动的条状栏，通常具有向上向下的功能，当你点击一下，就可以方便的回到顶部或者前往底部。其实打造这样一个工具边栏，并不是很难，使用 jquery 很容易就可以做出来。下面，你跟随我的步骤，一步一步的做一下，就可以做出来了，然后你可以根据这个代码，进行一些修改，自定义一些东西。

废话不多说，先说一下我做的这个工具边栏。这个工具边栏是符合我自己做的模板“Q21”，Q21 模板的特点是黑白对比，所以这个工具边栏要突出黑白变化。经过构思之后，我决定这个边栏的样式是这样的：

[![](https://qxzm-cdn.sapi.work/blog/2012/08/toolsidebar.jpg "toolsidebar")](https://qxzm-cdn.sapi.work/blog/2012/08/toolsidebar.jpg)

当鼠标移动到“分享”按钮上之后，会自动滑出一个黑条，然后黑条上是各个分享按钮。具体的演示效果，你可以下载最后代码包查看。下面我们来开始动手一步一步的制作。

## 建立 html 结构

用 span 标签也行，不过我还是喜欢用 div，所以就用 div 来建立 html 结构。结构很明确了吧，一个大 div 包含三个小 div，分别是上中下三个按钮，其中分享按钮中，还需要再包含一个 div，用来滑出分享按钮。好了，结构就建好了。

<pre>&lt;div id="tooltip" &gt;
    &lt;div id="toolt"&gt;▲&lt;/div&gt;
    &lt;div id="toolc" &gt;
        &lt;div id="sharetxt"&gt;分享&lt;/div&gt;
        &lt;div id="shareit" class="none"&gt;这里是分享代码&lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="toolb"&gt;▼&lt;/div&gt;
&lt;/div&gt;</pre>

注意，向上向下按钮，我使用的是字符，而不是图片。如果是图片的话，需要加载，而且动态变化，需要替换图片更加的不方便。至于如何打出这个上下两个三角号，就靠你的搜狗输入法了，如下图：

[![](https://qxzm-cdn.sapi.work/blog/2012/08/812.jpg "Unnamed QQ Screenshot20120826125812")](https://qxzm-cdn.sapi.work/blog/2012/08/812.jpg)

好了，有了 html 结构，我们再来定义一些 css。

## CSS 代码

### 首先定义全局的字体

<pre>:root{font-family:"5FAE8F6F96C59ED1",helvetica,Arial;}</pre>

经测试，这个边栏，在微软雅黑的字体下效果最好，所以要规定网页使用微软雅黑。上面这句代码，：root 表示选择 html 根，对所有文档中的元素生效，其中 5FAE8F6F96C59ED1 表示的就是微软雅黑，至于为什么这样写而不写成“微软雅黑”，如果用户电脑是英文的，那肯定找不到微软雅黑这个字体，这样写法，只要有微软雅黑字体，就可以使用。

### 定位工具条位置

<pre>div[id="tooltip"]{
    width:40px;
    height:120px;
    position:fixed;
    bottom:50%;
    right:20px;
    }</pre>

这几句 css 定义了工具边栏的高度和宽度，同时 position：fixed 表示让它固定在页面中，不会根据滚动条的滚动而移动。bottom：50%，让它保持在页面中部位置，right：20px 表示让它距离右边 20 个像素。

### 响应操作

<pre>div[id^="tool"]{
    font-size:38px;
    cursor:pointer;
    color:#000000;
    }
div[id^="tool"]:hover{
    color:#999999;
    }</pre>

响应操作可以让工具更加人性化，例如上图效果，当我们把鼠标移动到箭头的时候，它会变成灰色，表示你已经把箭头移动到上面了。在这里，我使用了新型的选择器 div[id^="tool"]它的意思是，选取所有以 tool 开头的 div 标签。定义字体大小为 38px，调整三角形成为合适大小。设定 cursor：pointer 属性，当你鼠标移动到上面的时候，会显示成手指形状，让你误以为是一个可以点击的链接。下面的语句，当你鼠标移动到上面的时候，颜色变成#999999。这是响应操作，提高用户体验。

### 中部 CSS 代码

<pre>div[id="toolc"]{
    font-size:22px;
    float:right;
    width:40px;
    height:70px;
    overflow:hidden;
     }

div[id="sharetxt"]{
    width:26px;
    margin-right:8px;
     float:right;
     height:70px;
     display:inline;
    margin-top:4px;
    }
div[id="shareit"]{
    width:304px;
    height:62px;
    float:right;
    height:30px;
    margin:15px 0px;
    }
.none{
    display:none;
    }
.inline{
    display:inline;
    }</pre>

比较简单，没有什么亮点，自己看看就行了。重点在于如何实现滑动出现分享按钮。我采用的方法是，定义两个 div，浮动放置，其中分享按钮那个 div 默认是隐藏的，只有鼠标移动上去触发之后，它才会显示出来。

## Jquery 代码

在添加 jquery 代码之前，我们需要彻底理清滑出分享按钮的实现方式。jquery 并没有提供横向滑动出现的方法，那要怎么实现呢？可以这样实现，先把底色变成黑色，让装载分享按钮的 div 框出现，但是这时候由于宽度不够显示分享按钮 div，所以你暂时看不到。使用 jquery 的 animate 方法，让宽度逐渐变宽，直到完全显示分享按钮 div。这样就会造成一个假象，黑色滑出，然后出现分享按钮。

### 具体的实现代码如下

<pre>$(function(){
    $("#toolc").mouseenter(function(){  //这里使用mouseenter方法来触发,当鼠标移动上去之后,触发这个方法
        $("#toolc").css({"color":"#ffffff","backgroundColor":"#000000"}); //先对中部添加背景,并且把文字变成白色
        $("#shareit").removeClass("none").addClass("inline"); //去掉shareit的none,让它显示出来,但由于宽度不够,无法显示
        $("#toolc").animate({width:"350px"},200); //使用animate方法,动态的改变宽度,直到显示出来分享按钮
    }).mouseleave(function(){ //当鼠标从目标区域中移走,就触发下面这个事件
        $("#toolc").css({"color":"#000000","backgroundColor":"#ffffff"}); //同反
        $("#shareit").removeClass("inline").addClass("none"); //同反
        $("#toolc").animate({width:"40px"},200); //同反,你懂的
    });
    $("#toolt").click(function(){
        $("html,body").animate({scrollTop:"-=900px"},200); //每点击一下,就向上滑动900px
    });
    $("#toolb").click(function(){
        $("html,body").animate({scrollTop:"+=900px"},200); //每点击一下,就向下滑动900px
    });
});</pre>

注释我已经写在上面代码中了，仔细耐心看一下。这里,我想说的是向上向下滑动 900px。我并没有让它点击直接到顶部或者底部。因为我觉得，如果文章比较长，浏览者并不一定想直接滑动到底部，而是想看看下面的内容。如果他真想滑动到底部，也只需要点两次或者三次按钮即可。这也是一个用户体验的细节。

## 当然，你还需要申请分享代码

可以去 bshare jiathis 百度分享那里，申请一下代码，粘贴到 shareit div 中就可以了。怎么样，其实原理也非常简单，动一下脑子就可以了。
